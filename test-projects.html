<section class="proj-carousel" aria-label="Projects">
  <header class="projc-head">
    <h2 class="h3-large">Projects</h2>
    <div class="projc-controls">
      <button class="projc-btn prev" aria-label="Previous projects">‹</button>
      <button class="projc-btn next" aria-label="Next projects">›</button>
    </div>
  </header>

  <div class="projc-viewport">
    <ul class="projc-track">
      <!-- CARD -->
      <li class="projc-card">
        <div class="projc-body">
          <h3>3D Brawler</h3>
          <p class="projc-desc">Fast-paced FFA arena fighter (8–12 players) with realistic physics and a dynamic scoring system. Built on SpacetimeDB.</p>
          <p class="projc-meta">
            <span class="projc-chip">Unity</span>
            <span class="projc-chip">SpacetimeDB</span>
            <span class="projc-chip">Game Design</span>
            <span class="projc-tag projc-tag--solo">Solo</span>
          </p>
          <a class="btn" href="/3d-brawler.html">View Project</a>
        </div>
      </li>

      <li class="projc-card">
        <div class="projc-body">
          <h3>Terminal Fighter</h3>
          <p class="projc-desc">2D ability-based fighter with LAN multiplayer and rapid iteration on combat feel.</p>
          <p class="projc-meta">
            <span class="projc-chip">Netcode</span>
            <span class="projc-chip">Input Systems</span>
            <span class="projc-tag">Collaborative</span>
          </p>
          <a class="btn" href="/terminal-fighter.html">View Project</a>
        </div>
      </li>

      <li class="projc-card">
        <div class="projc-body">
          <h3>Family Dinner</h3>
          <p class="projc-desc">Narrative & character design for a 3D murder-mystery with a cutscene demo.</p>
          <p class="projc-meta">
            <span class="projc-chip">Narrative Design</span>
            <span class="projc-chip">Character Systems</span>
            <span class="projc-tag projc-tag--solo">Solo</span>
          </p>
          <a class="btn" href="/murder-mystery.html">View Project</a>
        </div>
      </li>

      <li class="projc-card">
        <div class="projc-body">
          <h3>Pedalogical</h3>
          <p class="projc-desc">AI-powered platform with logging, analytics, and guided modules for instructors and students.</p>
          <p class="projc-meta">
            <span class="projc-chip">.NET/Blazor</span>
            <span class="projc-chip">EF Core</span>
            <span class="projc-chip">Prompt Design</span>
            <span class="projc-tag">Collaborative</span>
          </p>
          <a class="btn" href="/pedalogical.html" target="_blank" rel="noopener">View Project</a>
        </div>
      </li>
    </ul>
  </div>
</section>



<style> 
/* ===== Projects Carousel (scoped) ===== */
.proj-carousel { padding: 2rem 1.5rem; max-width: 1400px; margin: 0 auto; }

.projc-head {
  display:flex; justify-content:space-between; align-items:center;
  margin-bottom: 0.75rem;
}
.projc-controls { display:flex; gap: .5rem; }
.projc-btn{
  inline-size:2.4rem; block-size:2.4rem;
  border-radius:8px; border:1px solid #e0e0e0; background:#fff; color:#2d2d2d;
  font-size:1.25rem; line-height:1; display:grid; place-items:center; cursor:pointer;
  transition: background .2s ease, box-shadow .2s ease, transform .2s ease;
}
.projc-btn:hover{ background:#f8f9fa; transform: translateY(-2px); box-shadow: 0 8px 12px -4px rgba(0,0,0,.08); }
.projc-btn:disabled{ opacity:.4; cursor:not-allowed; transform:none; box-shadow:none; }

.projc-viewport{
  overflow:hidden; /* arrow-only navigation */
  border-radius: 12px;
}
.projc-track{
  display:flex; gap: 1.25rem;
  list-style:none; margin:0; padding:0;
  transform: translateX(0);
  transition: transform .35s cubic-bezier(0.22, 1, 0.36, 1);
}

/* Show exactly TWO wide rectangles per view on desktop */
.projc-card{
  flex: 0 0 calc(50% - .625rem); /* two per view (gap/2) */
  display:flex;
}
.projc-body{
  /* matches your card aesthetic */
  background:#ffffff; color:#4a4a4a;
  border: 1px solid #e0e0e0;
  border-left: 4px solid #2d2d2d;
  border-radius:12px;
  box-shadow: 0 4px 6px -1px rgba(0,0,0,.05);
  padding: 1.25rem 1.5rem;
  width:100%;

  /* WIDE RECTANGLE feel */
  min-height: 160px;          /* short/tight height */
  display:grid; gap:.6rem;    /* compact rhythm */
}

.projc-body h3{
  margin:0; color:#2d2d2d; font-size:1.25rem; font-weight:600;
}
.projc-desc{ margin:0; color:#6a6a6a; line-height:1.6; }
.projc-meta{ margin:0; display:flex; flex-wrap:wrap; gap:.4rem .5rem; align-items:center; }

.projc-chip{
  background:#f3f4f6; color:#4a4a4a; border:1px solid #e0e0e0;
  font-size:.85rem; padding:.25rem .5rem; border-radius:999px; white-space:nowrap;
}
.projc-tag{
  background:#eef2ff; color:#3730a3; border:1px solid #e0e0e0;
  font-size:.85rem; padding:.25rem .55rem; border-radius:999px;
}
.projc-tag--solo{ background:#ecfdf5; color:#065f46; }

/* Mobile: one per view (still arrow-only) */
@media (max-width: 900px){
  .projc-card{ flex: 0 0 100%; }
}

</style>

<script>
(function(){
  const root = document.querySelector('.proj-carousel');
  if(!root) return;

  const viewport = root.querySelector('.projc-viewport');
  const track = root.querySelector('.projc-track');
  const prev = root.querySelector('.projc-btn.prev');
  const next = root.querySelector('.projc-btn.next');
  const cards = Array.from(root.querySelectorAll('.projc-card'));

  let pageIndex = 0;

  function cardsPerView(){
    // Match CSS: two per view >=900px, else one
    return window.matchMedia('(max-width: 900px)').matches ? 1 : 2;
  }

  function pageCount(){
    const per = cardsPerView();
    return Math.max(1, Math.ceil(cards.length / per));
  }

  function goToPage(i){
    const per = cardsPerView();
    const clamped = Math.max(0, Math.min(i, pageCount()-1));
    pageIndex = clamped;

    // Move by viewport width (so exactly 2 cards—or 1 on mobile—slide in)
    const x = viewport.clientWidth * clamped;
    track.style.transform = `translateX(-${x}px)`;

    prev.disabled = pageIndex === 0;
    next.disabled = pageIndex >= pageCount() - 1;
  }

  function onResize(){
    // Reset transform then go to current page to avoid rounding artifacts
    track.style.transform = 'translateX(0)';
    goToPage(pageIndex);
  }

  prev.addEventListener('click', () => goToPage(pageIndex - 1));
  next.addEventListener('click', () => goToPage(pageIndex + 1));
  window.addEventListener('resize', onResize, { passive: true });

  // Initialize
  goToPage(0);
})();
</script>
